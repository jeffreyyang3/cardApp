{% extends "global/Page.html" %}
{% load otree static %}




{% block content %}
<div id="app">
    <h3 v-text="display"></h3>
    <h1 id="question"> {{ question }}</h1>

    <div class='cards'>
        <form>
            {% for answer in answerDraw %}
            <div class="answerCard">
                <input v-model= "answer" name="chosenAnswer" 
                id='{{ answer }}' type='radio' value='{{ answer }}'> <br>
                <label for='{{ answer }}'> <strong>{{answer}}</strong></label>
            </div>
            {% endfor %}
        </form>
    </div>
</div>
    
    
    

    

    {% next_button %}
{% endblock %}
{% block scripts %}
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>

    <!-- define a script -->
    <script>
        var vm = new Vue({
            el: '#app',
            data: {
                display: '',
                answer: '',
                original: '',
            },
            methods: {
                
                


            },
            watch: {
                answer() {
                    if(this.original.indexOf('_') == -1){
                        this.display = this.original + " " + this.answer    

                    }
                    else{
                        this.display = this.original.replace('_', '[ ' + this.answer + ' ]') 
                    }
                    
                }
            },
            mounted(){
                this.original = document.getElementById("question").innerHTML
                this.display = this.original
                this.display = this.display.replace('_','[ ]')
                
            }
        })
    </script>


{% endblock %}













{% block styles %}

    <!-- define a style -->
    <style type="text/css">
        .answerCard{
            border-radius: 8px;
            border: 2px solid black;
            padding: 2px 16px;
            height: 200px;
            width: 150px;
            margin: 20px;
            margin-left: 0px;
            float: left;


            
        }
        .cards{
            margin-top: 30px;
        }
        #question{
            display: none;
        }
        
        .card{
            clear:both;
        }
        .otree-btn-next{
            display: block;
            clear:both;
            background-color: black;
        }
        
    </style>

   

{% endblock %}